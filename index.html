<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Dozenal Holocene Calendar</title>
	<script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
	<script>
		window.open("file:///C:/Users/Sunny/Desktop/Univ-time/Univ-Cl(minified)/Univ-Clock.html", "myWindow", "width=190,height=190");
		$(function() {
			var solsticeData = [
				[	, 21 ], //	1956 Munich(UTC)> 11528-11529 = *67↋↊-67↋↋
				[ 21, 22 ],	//	1957 Munich(UTC)> 11529-11520 = *67↋↋-6800
				[ 21, 22 ],	//	1958 Munich(UTC)> 11520-11521 = *6800-6801
				[ 22, 22 ],	//	1959 Munich(UTC)> 11521-11522 = *6801-6802
				[ 21, 21 ],	//	1960 Munich(UTC)> 11522-11523 = *6802-6803
				[ 21, 22 ],	//	1961 Munich(UTC)> 11523-11524 = *6803-6804
				[ 21, 22 ],	//	1962 Munich(UTC)> 11524-11525 = *6804-6805
				[ 22, 22 ],	//	1963 Munich(UTC)> 11525-11526 = *6805-6806
				[ 21, 21 ],	//	1964 Munich(UTC)> 11526-11527 = *6806-6807
				[ 21, 22 ],	//	1965 Munich(UTC)> 11527-11528 = *6807-6808
				[ 21, 22 ],	//	1966 Munich(UTC)> 11528-11529 = *6808-6809
				[ 22, 22 ],	//	1967 Munich(UTC)> 11529-11530 = *6809-680↊
				[ 21, 21 ],	//	1968 Munich(UTC)> 11530-11531 = *680↊-680↋
				[ 21, 22 ],	//	1969 Munich(UTC)> 11531-11532 = *680↋-6810
				[ 21, 22 ],	//	1970 Munich(UTC)> 11532-11533 = *6810-6811
				[ 22, 22 ],	//	1971 Munich(UTC)> 11533-11534 = *6811-6812
				[ 21, 21 ],	//	1972 Munich(UTC)> 11534-11535 = *6812-6813
				[ 21, 22 ],	//	1973 Munich(UTC)> 11535-11536 = *6813-6814
				[ 21, 22 ],	//	1974 Munich(UTC)> 11536-11537 = *6814-6815
				[ 22, 22 ],	//	1975 Munich(UTC)> 11537-11538 = *6815-6816
				[ 21, 21 ],	//	1976 Munich(UTC)> 11538-11539 = *6816-6817
				[ 21, 22 ],	//	1977 Munich(UTC)> 11539-11540 = *6817-6818
				[ 21, 22 ],	//	1978 Munich(UTC)> 11540-11541 = *6818-6819
				[ 22, 22 ],	//	1979 Munich(UTC)> 11541-11542 = *6819-681↊
				[ 21, 21 ],	//	1980 Munich(UTC)> 11542-11543 = *681↊-681↋
				[ 21, 21 ],	//	1981 Munich(UTC)> 11543-11544 = *681↋-6820
				[ 21, 22 ],	//	1982 Munich(UTC)> 11544-11545 = *6820-6821
				[ 21, 22 ],	//	1983 Munich(UTC)> 11545-11546 = *6821-6822
				[ 21, 21 ],	//	1984 Munich(UTC)> 11546-11547 = *6822-6823
				[ 21, 21 ],	//	1985 Munich(UTC)> 11547-11548 = *6823-6824
				[ 21, 22 ],	//	1986 Munich(UTC)> 11548-11549 = *6824-6825
				[ 21, 22 ],	//	1987 Munich(UTC)> 11549-11550 = *6825-6826
				[ 21, 21 ],	//	1988 Munich(UTC)> 11550-11551 = *6826-6827
				[ 21, 21 ],	//	1989 Munich(UTC)> 11551-11552 = *6827-6828
				[ 21, 22 ],	//	1990 Munich(UTC)> 11552-11553 = *6828-6829
				[ 21, 22 ],	//	1991 Munich(UTC)> 11553-11554 = *6829-682↊
				[ 21, 21 ],	//	1992 Munich(UTC)> 11554-11555 = *682↊-682↋
				[ 21, 21 ],	//	1993 Munich(UTC)> 11555-11556 = *682↋-6830
				[ 21, 22 ],	//	1994 Munich(UTC)> 11556-11557 = *6830-6831
				[ 21, 22 ],	//	1995 Munich(UTC)> 11557-11558 = *6831-6832
				[ 21, 21 ],	//	1996 Munich(UTC)> 11558-11559 = *6832-6833
				[ 21, 21 ],	//	1997 Munich(UTC)> 11559-11560 = *6833-6834
				[ 21, 22 ],	//	1998 Munich(UTC)> 11560-11561 = *6834-6835
				[ 21, 22 ],	//	1999 Munich(UTC)> 11561-11562 = *6835-6836
				[ 21, 21 ],	//	2000 Munich(UTC)> 11562-11563 = *6836-6837
				[ 21, 21 ],	//	2001 Munich(UTC)> 11563-11564 = *6837-6838
				[ 21, 22 ],	//	2002 Munich(UTC)> 11564-11565 = *6838-6839
				[ 21, 22 ],	//	2003 Munich(UTC)> 11565-11566 = *6839-683↊
				[ 21, 21 ],	//	2004 Munich(UTC)> 11566-11567 = *683↊-683↋
				[ 21, 21 ],	//	2005 Munich(UTC)> 11567-11568 = *683↋-6840
				[ 21, 22 ],	//	2006 Munich(UTC)> 11568-11569 = *6840-6841
				[ 21, 22 ],	//	2007 Munich(UTC)> 11569-11570 = *6841-6842
				[ 21, 21 ],	//	2008 Munich(UTC)> 11570-11571 = *6842-6843
				[ 21, 21 ],	//	2009 Munich(UTC)> 11571-11572 = *6843-6844
				[ 21, 22 ],	//	2010 Munich(UTC)> 11572-11573 = *6844-6845
				[ 21, 22 ],	//	2011 Munich(UTC)> 11573-11574 = *6845-6846
				[ 20, 21 ],	//	2012 Munich(UTC)> 11574-11575 = *6846-6847
				[ 21, 21 ],	//	2013 Munich(UTC)> 11575-11576 = *6847-6848
				[ 21, 21 ],	//	2014 Munich(UTC)> 11576-11577 = *6848-6849
				[ 21, 22 ],	//	2015 Munich(UTC)> 11577-11578 = *6849-684↊
				[ 20, 21 ],	//	2016 Munich(UTC)> 11578-11579 = *684↊-684↋
				[ 21, 21 ],	//	2017 Munich(UTC)> 11579-11580 = *684↋-6850
				[ 21, 21 ],	//	2018 Munich(UTC)> 11580-11581 = *6850-6851
				[ 21, 22 ],	//	2019 Munich(UTC)> 11581-11582 = *6851-6852
				[ 20, 21 ],	//	2020 Munich(UTC)> 11582-11583 = *6852-6853
				[ 21, 21 ],	//	2021 Munich(UTC)> 11583-11584 = *6853-6854
				[ 21, 21 ],	//	2022 Munich(UTC)> 11584-11585 = *6854-6855
				[ 21, 22 ],	//	2023 Munich(UTC)> 11585-11586 = *6855-6856
				[ 20, 21 ],	//	2024 Munich(UTC)> 11586-11587 = *6856-6857
				[ 21, 21 ],	//	2025 Munich(UTC)> 11587-11588 = *6857-6858
				[ 21, 21 ],	//	2026 Munich(UTC)> 11588-11589 = *6858-6859
				[ 21, 22 ],	//	2027 Munich(UTC)> 11589-11590 = *6859-685↊
				[ 20, 21 ],	//	2028 Munich(UTC)> 11590-11591 = *685↊-685↋
				[ 21, 21 ],	//	2029 Munich(UTC)> 11591-11592 = *685↋-6860
				[ 21, 21 ],	//	2030 Munich(UTC)> 11592-11593 = *6860-6861
				[ 21, 22 ],	//	2031 Munich(UTC)> 11593-11594 = *6861-6862
				[ 20, 21 ],	//	2032 Munich(UTC)> 11594-11595 = *6862-6863
				[ 21, 21 ],	//	2033 Munich(UTC)> 11595-11596 = *6863-6864
				[ 21, 21 ],	//	2034 Munich(UTC)> 11596-11597 = *6864-6865
				[ 21, 22 ],	//	2035 Munich(UTC)> 11597-11598 = *6865-6866
				[ 20, 21 ],	//	2036 Munich(UTC)> 11598-11599 = *6866-6867
				[ 21, 21 ],	//	2037 Munich(UTC)> 11599-11600 = *6867-6868
				[ 21, 21 ],	//	2038 Munich(UTC)> 11600-11601 = *6868-6869
				[ 21, 22 ],	//	2039 Munich(UTC)> 11601-11602 = *6869-686↊
				[ 20, 21 ],	//	2040 Munich(UTC)> 11602-11603 = *686↊-686↋
				[ 21, 21 ],	//	2041 Munich(UTC)> 11603-11604 = *686↋-6870
				[ 21, 21 ],	//	2042 Munich(UTC)> 11604-11605 = *6870-6871
				[ 21, 22 ],	//	2043 Munich(UTC)> 11605-11606 = *6871-6872
				[ 20, 21 ],	//	2044 Munich(UTC)> 11606-11607 = *6872-6873
				[ 20, 21 ],	//	2045 Munich(UTC)> 11607-11608 = *6873-6874
				[ 21, 21 ],	//	2046 Munich(UTC)> 11608-11609 = *6874-6875
				[ 21, 21 ],	//	2047 Munich(UTC)> 11609-11610 = *6875-6876
				[ 20, 21 ],	//	2048 Munich(UTC)> 11610-11611 = *6876-6877
				[ 20, 21 ],	//	2049 Munich(UTC)> 11611-11612 = *6877-6878
				[ 21, 21 ],	//	2050 Munich(UTC)> 11612-11613 = *6878-6879
				[ 21, 21 ],	//	2051 Munich(UTC)> 11613-11614 = *6879-687↊
				[ 20, 21 ],	//	2052 Munich(UTC)> 11614-11615 = *687↊-687↋
				[ 20, 21 ],	//	2053 Munich(UTC)> 11615-11616 = *687↋-6880
				[ 21, 21 ],	//	2054 Munich(UTC)> 11616-11617 = *6880-6881
				[ 21, 21 ],	//	2055 Munich(UTC)> 11617-11618 = *6881-6882
				[ 20, 21 ],	//	2056 Munich(UTC)> 11618-11619 = *6882-6883
				[ 20, 21 ],	//	2057 Munich(UTC)> 11619-11620 = *6883-6884
				[ 21, 21 ],	//	2058 Munich(UTC)> 11620-11621 = *6884-6885
				[ 21, 21 ],	//	2059 Munich(UTC)> 11621-11622 = *6885-6886
				[ 20, 21 ],	//	2060 Munich(UTC)> 11622-11623 = *6886-6887
				[ 20, 21 ],	//	2061 Munich(UTC)> 11623-11624 = *6887-6888
				[ 21, 21 ],	//	2062 Munich(UTC)> 11624-11625 = *6888-6889
				[ 21, 21 ],	//	2063 Munich(UTC)> 11625-11626 = *6889-688↊
				[ 20, 21 ],	//	2064 Munich(UTC)> 11626-11627 = *688↊-688↋
				[ 20, 21 ],	//	2065 Munich(UTC)> 11627-11628 = *688↋-6890
				[ 21, 21 ],	//	2066 Munich(UTC)> 11628-11629 = *6890-6891
				[ 21, 21 ],	//	2067 Munich(UTC)> 11629-11630 = *6891-6892
				[ 20, 21 ],	//	2068 Munich(UTC)> 11630-11631 = *6892-6893
				[ 20, 21 ],	//	2069 Munich(UTC)> 11631-11632 = *6893-6894
				[ 21, 21 ],	//	2070 Munich(UTC)> 11632-11633 = *6894-6895
				[ 21, 21 ],	//	2071 Munich(UTC)> 11633-11634 = *6895-6896
				[ 20, 21 ],	//	2072 Munich(UTC)> 11634-11635 = *6896-6897
				[ 20, 21 ],	//	2073 Munich(UTC)> 11635-11636 = *6897-6898
				[ 20, 21 ],	//	2074 Munich(UTC)> 11636-11637 = *6898-6899
				[ 21, 21 ],	//	2075 Munich(UTC)> 11637-11638 = *6899-689↊
				[ 20, 21 ],	//	2076 Munich(UTC)> 11638-11639 = *689↊-689↋
				[ 20, 21 ],	//	2077 Munich(UTC)> 11639-11640 = *689↋-68↊0
				[ 20, 21 ],	//	2078 Munich(UTC)> 11640-11641 = *68↊0-68↊1
				[ 21, 21 ],	//	2079 Munich(UTC)> 11641-11642 = *68↊1-68↊2
				[ 20, 21 ],	//	2080 Munich(UTC)> 11642-11643 = *68↊2-68↊3
				[ 20, 21 ],	//	2081 Munich(UTC)> 11643-11644 = *68↊3-68↊4
				[ 20, 21 ],	//	2082 Munich(UTC)> 11644-11645 = *68↊4-68↊5
				[ 21, 21 ],	//	2083 Munich(UTC)> 11645-11646 = *68↊5-68↊6
				[ 20, 20 ],	//	2084 Munich(UTC)> 11646-11647 = *68↊6-68↊7
				[ 20, 21 ],	//	2085 Munich(UTC)> 11647-11648 = *68↊7-68↊8
				[ 20, 21 ],	//	2086 Munich(UTC)> 11648-11649 = *68↊8-68↊9
				[ 21, 21 ],	//	2087 Munich(UTC)> 11649-11650 = *68↊9-68↊↊
				[ 20, 20 ],	//	2088 Munich(UTC)> 11650-11651 = *68↊↊-68↊↋
				[ 20, 21 ],	//	2089 Munich(UTC)> 11651-11652 = *68↊↋-68↋0
				[ 20, 21 ],	//	2090 Munich(UTC)> 11652-11653 = *68↋0-68↋1
				[ 21, 21 ],	//	2091 Munich(UTC)> 11653-11654 = *68↋1-68↋2
				[ 20, 20 ],	//	2092 Munich(UTC)> 11654-11655 = *68↋2-68↋3
				[ 20, 21 ],	//	2093 Munich(UTC)> 11655-11656 = *68↋3-68↋4
				[ 20, 21 ],	//	2094 Munich(UTC)> 11656-11657 = *68↋4-68↋5
				[ 21, 21 ],	//	2095 Munich(UTC)> 11657-11658 = *68↋5-68↋6
				[ 20, 20 ],	//	2096 Munich(UTC)> 11658-11659 = *68↋6-68↋7
				[ 20, 21 ],	//	2097 Munich(UTC)> 11659-11660 = *68↋7-68↋8
				[ 20, 21 ],	//	2098 Munich(UTC)> 11660-11661 = *68↋8-68↋9
				[ 21, 21 ],	//	2099 Munich(UTC)> 11661-11662 = *68↋9-68↋↊
				[ 21, 21 ],	//	2100 Munich(UTC)> 11662-11663 = *68↋↊-68↋↋
				[ 21,	 ]	//	2101 Munich(UTC)> 11663-11664 = *68↋↋-6900
			];

			var schemeData = [
				[ 31, 31, 31, 31, 30, 30, 30, 30, 30, 30, 31, 31 ],	// 4+2> "
				[ 31, 31, 31, 31, 30, 30, 30, 30, 30, 30, 30, 31 ],	// 4+1> '
				[ 31, 31, 31, 30, 30, 30, 30, 30, 30, 30, 31, 31 ]	// 3+2> `
			];

			var REF_YEAR = 1957 - 1;
			var HOLOCENE_EPOCH = 9564 - 1;
			var DAY_MILLIS = 24 * 60 * 60 * 1000;
			var TIME_ZONE = 'T00:00:00+00:00';
			var OFFSET_MILLIS = 11.5647 * 4 * 60 * 1000;
			var HEXCIA_MILLIS = Math.pow(12, 6) / DAY_MILLIS;

			function toFixed(num, len) {
				num = '' + num;
				while (num.length < len) {
					num = '0' + num;
				}
				return num;
			}

			function getNewYear(today) {
				var year = today.getUTCFullYear();
				var newYearCur = new Date(year + '-06-' + solsticeData[year - REF_YEAR][0] + TIME_ZONE);
				var newYearPrev = new Date((year - 1) + '-06-' + solsticeData[(year - 1) - REF_YEAR][0] + TIME_ZONE);
				if (today >= newYearCur) {
					return newYearCur;
				} else {
					return newYearPrev;
				}
			}

			function getScheme(newYear) {
				var year = newYear.getUTCFullYear();
				var date1 = new Date(year + '-06-' + solsticeData[year - REF_YEAR][0] + TIME_ZONE);
				var date2 = new Date(year + '-12-' + solsticeData[year - REF_YEAR][1] + TIME_ZONE);
				var date3 = new Date((year + 1) + '-06-' + solsticeData[(year + 1) - REF_YEAR][0] + TIME_ZONE);
				var days1 = (date2.getTime() - date1.getTime()) / DAY_MILLIS;
				var days2 = (date3.getTime() - date2.getTime()) / DAY_MILLIS;
				if (days1 === 183) {
					return 2;
				} else if (days2 === 181) {
					return 1;
				} else if (days2 === 182) {
					return 0;
				}
			}

			function getHoloceneTime(now) {
				now.setTime(now.getTime() + OFFSET_MILLIS);
				var today = new Date(now.getUTCFullYear() + '-' + toFixed(now.getUTCMonth() + 1, 2) + '-' + toFixed(now.getUTCDate(), 2) + TIME_ZONE);
				var hNewYear = getNewYear(today);
				var hDay = (today.getTime() - hNewYear.getTime()) / DAY_MILLIS;
				var scheme = getScheme(hNewYear);
				var hYear = hNewYear.getUTCFullYear() + HOLOCENE_EPOCH;
				var hMonth = 0;
				while (hDay >= schemeData[scheme][hMonth]) {
					hDay = hDay - schemeData[scheme][hMonth];
					hMonth++;
				}
				return {
					scheme: scheme,
					hYear: hYear,
					hMonth: hMonth,
					hDay: hDay,
				};
			}

			function printCal(gregorianDate) {
				if (!gregorianDate) {
					return;
				}
				var cur = new Date(gregorianDate + TIME_ZONE);
				var holoceneTime = getHoloceneTime(cur);
				var scheme = holoceneTime.scheme;
				var y = holoceneTime.hYear;
				var m = holoceneTime.hMonth;
				var d = holoceneTime.hDay;
				var hDaysInMonth = schemeData[scheme][m];
				$('.cal').empty();
				for (var i = 0; i < hDaysInMonth; i++) {
					if (i === 0) {
						$('.cal').append('<div class="calTag">' + y.toString(12).replace(/a/g, '↊').replace(/b/g, '↋') /*+ scheme.toString().replace(/2/g, '`').replace(/1/g, '\'').replace(/0/g, '"')*/ + ' Years, ' + m.toString(12).replace(/a/g, '↊').replace(/b/g, '↋') + ' Months..' + '</div>');
					}
					var dateStr = toFixed(y, 5) + "-" + toFixed(m, 2) + "-" + toFixed(i, 2);
					var className = "date";
					if (i === d) {
						className = "selected date";
					}
					$('.cal').append('<div class="' + className + '" data-date="' + dateStr + '">' + i.toString(12).replace(/a/g, '↊').replace(/b/g, '↋') + '<br>' + '</div>'); // Math.floor(i / 6) + '-' + (i % 6) +// '</div>');
					if ((i + 1) % 6 === 0 && (i + 1) < 30) {
						$('.cal').append('<div class="clear"></div>');
					}
				}
				var now = new Date();
				holoceneTime = getHoloceneTime(now);
				y = holoceneTime.hYear;
				m = holoceneTime.hMonth;
				d = holoceneTime.hDay;
				var curDateStr = toFixed(y, 5) + "-" + toFixed(m, 2) + "-" + toFixed(d, 2);
				$('.date').filter(function() {
					return $(this).attr('data-date') <= curDateStr;
				}).addClass('elapsed');
			}
			$('#gregorian-input').on('change', function() {
				var gregorianDate = $(this).val();
				printCal(gregorianDate);
			});
			Date.prototype.toDateInputValue = (function() {
	   			var local = new Date(this);
	    		local.setMinutes(this.getMinutes() - this.getTimezoneOffset());
	    		return local.toJSON().substring(0, 10);
			});
			$('#gregorian-input').val(new Date().toDateInputValue()).change();
		});
	</script>
	<style>
		html, body {
			background-color: #db8;
		}
		.cal {
			width: 1078px;
			margin: auto;
			font-weight: bolder;
			color: #8bd;
			font-size: 1.5em;
		}
		.date {
			width: 144px;
			height: 96px;
			border-top: 2px solid #444;
			border-right: 2px solid #444;
			float: left;
			background-color: #ddd;
			padding: 0 4px;
			color: #444;
		}
		.date.selected {
			color: #8bd;
		}
		.date.elapsed {
			background-color: #888;
		}
		.calTag {
			background-color: #444;
			text-align: center;
			width: 308px;
		}
		.clear {
			clear: both;
		}
	</style>
</head>
<body>
	<label>Solar calendar representing dozenal cardinal numbers (All numbers are dozenals otherwise indicated "d|") for years(Y), months(M) and days(D). Every year starts on the summer solstice day with the epoch kept at the summer of d|9564 BC and every day on the calendar would start/end when the mean noon occurs for d|-168.4353 longitude (or as well midnight for d|+11.5647). Weeks are of 6 days and months are of either 26 or 27. Unlike gregorian calendar, months of either 26 or 27 days would occur as continous as possible with the least switch but in a way that the winter solstice would always fall on the 1st day after 6 months in any given year. The current universal date representation is displayed (which shows the current number of elapsed years, months and days). Umnak island's gregorian date of <input type="date" id="gregorian-input"> (valid range: d|[1957-06-21] - d|[2101-06-20]) is displayed as the selected day that follows after elapsed 'Holocene Era':</label><br><br>
	<div class="cal"></div>
</body>
</html>
